# Streamlit + Google Gemini èŠå¤©ç¨‹åº

åŸºäº Streamlit å’Œ Google Gemini æ„å»ºçš„æ™ºèƒ½èŠå¤©åº”ç”¨ï¼Œæ”¯æŒæ–‡æœ¬å¯¹è¯å’Œå›¾ç‰‡åˆ†æåŠŸèƒ½ã€‚

## ğŸ› ï¸ æŠ€æœ¯æ ˆ (Technical Stack)

### æ ¸å¿ƒæ¡†æ¶ (Core Framework)
- **[Streamlit](https://streamlit.io/)** - Python Web åº”ç”¨æ¡†æ¶
  - æä¾›ç›´è§‚çš„ç”¨æˆ·ç•Œé¢ç»„ä»¶
  - æ”¯æŒå®æ—¶äº¤äº’å’ŒçŠ¶æ€ç®¡ç†
  - å¿«é€Ÿéƒ¨ç½²å’ŒåŸå‹å¼€å‘

### AI/ML é›†æˆ (AI/ML Integration)
- **[Google Gemini API](https://ai.google.dev/)** - å…ˆè¿›çš„å¤§è¯­è¨€æ¨¡å‹
  - `gemini-2.0-flash-exp` - æœ€æ–°å®éªŒç‰ˆæœ¬ï¼Œé€Ÿåº¦å¿«
  - `gemini-exp-1206` - å®éªŒç‰ˆæœ¬ï¼ŒåŠŸèƒ½å¢å¼º
  - `gemini-2.0-flash-thinking-exp` - æ€ç»´é“¾æ¨ç†æ¨¡å‹
  - `gemini-2.5-pro` / `gemini-2.5-flash` - ç”Ÿäº§ç‰ˆæœ¬
  - `gemini-1.5-pro-latest` / `gemini-1.5-flash-latest` - ç¨³å®šç‰ˆæœ¬

### Python ä¾èµ–åº“ (Python Dependencies)
```python
# æ ¸å¿ƒä¾èµ–
streamlit              # Web åº”ç”¨æ¡†æ¶
google-generativeai    # Google Gemini SDK (ä¼ ç»Ÿç‰ˆæœ¬)
google-genai          # Google Gemini SDK (æ–°ç‰ˆæœ¬)

# å›¾åƒå¤„ç†
Pillow                # å›¾åƒå¤„ç†åº“

# è¯­è¨€å¤„ç†
langdetect            # è¯­è¨€æ£€æµ‹ï¼Œæ”¯æŒä¸­è‹±æ–‡è‡ªåŠ¨è¯†åˆ«

# åè®®å’Œæ•°æ®
protobuf              # Protocol Buffersï¼ŒGoogle API é€šä¿¡åè®®
```

### åº”ç”¨æ¶æ„ (Application Architecture)

#### å¤šåº”ç”¨å˜ä½“ (Multiple App Variants)
1. **`app.py`** - åŸºç¡€ç‰ˆæœ¬
   - ç®€æ´çš„ç”¨æˆ·ç•Œé¢
   - åŸºæœ¬çš„æ–‡æœ¬å¯¹è¯å’Œå›¾ç‰‡åˆ†æåŠŸèƒ½

2. **`app2.py`** - ç¾åŒ–ç‰ˆæœ¬
   - å¸¦æœ‰ç¾è§‚ Logo çš„ç•Œé¢
   - åŠŸèƒ½ä¸ app.py ä¸€è‡´

3. **`app_computer.py`** - å¢å¼ºç‰ˆæœ¬
   - è®¡ç®—æœºä¸“å®¶æ¨¡å¼
   - ä¸­è‹±æ–‡ç¿»è¯‘åŠŸèƒ½
   - ä»”ç»†æ£€æŸ¥æ¨¡å¼

4. **`app_computer_multi_stream.py`** - å¤šæ¨¡å‹æµå¼ç‰ˆæœ¬
   - æ”¯æŒå¤šç§ Gemini æ¨¡å‹é€‰æ‹©
   - æµå¼è¾“å‡ºå“åº”
   - å¢å¼ºçš„ç”¨æˆ·ä½“éªŒ

5. **`search.py`** - æœç´¢å¢å¼ºç‰ˆæœ¬
   - é›†æˆ Google æœç´¢åŠŸèƒ½
   - å®æ—¶ä¿¡æ¯è·å–
   - ä¹¦ç±åˆ†ææ¨¡å¼

6. **`image.py`** - å¤šåª’ä½“ç”Ÿæˆç‰ˆæœ¬
   - æ–‡æœ¬ç”Ÿæˆå›¾ç‰‡ (Imagen 3)
   - å›¾ç‰‡ç¼–è¾‘å’Œå¤„ç†
   - æ–‡æœ¬ç”Ÿæˆè§†é¢‘ (VEO)

### æ ¸å¿ƒåŠŸèƒ½æ¨¡å— (Core Modules)

#### å¯¹è¯ç®¡ç† (Chat Management)
- ä¼šè¯çŠ¶æ€ç®¡ç† (`st.session_state`)
- å†å²è®°å½•ä¿å­˜å’Œæ˜¾ç¤º
- å¤šè½®å¯¹è¯ä¸Šä¸‹æ–‡ä¿æŒ

#### æ¨¡å‹é…ç½® (Model Configuration)
- æ¸©åº¦å‚æ•°è°ƒèŠ‚ (Temperature)
- æœ€å¤§ Token æ•°é‡æ§åˆ¶
- æµå¼è¾“å‡ºå¼€å…³
- æ¨¡å‹åŠ¨æ€åˆ‡æ¢

#### å›¾åƒå¤„ç† (Image Processing)
- å›¾ç‰‡ä¸Šä¼ å’Œé¢„å¤„ç†
- å¤šæ ¼å¼æ”¯æŒ (JPG, PNG)
- å›¾ç‰‡åˆ†æå’Œæè¿°ç”Ÿæˆ
- å›¾åƒç¼–è¾‘åŠŸèƒ½

#### è¯­è¨€å¤„ç† (Language Processing)
- è‡ªåŠ¨è¯­è¨€æ£€æµ‹
- ä¸­è‹±æ–‡åŒå‘ç¿»è¯‘
- å¤šè¯­è¨€æç¤ºè¯ç®¡ç†

#### æœç´¢å¢å¼º (Search Enhancement)
- Google æœç´¢ API é›†æˆ
- å®æ—¶ä¿¡æ¯è·å–
- æœç´¢ç»“æœæ•´åˆåˆ°å¯¹è¯ä¸­

### ç³»ç»Ÿè¦æ±‚ (System Requirements)
- **Python**: 3.8+ (æ¨è 3.9+)
- **å†…å­˜**: æœ€å° 2GB RAM (æ¨è 4GB+)
- **ç½‘ç»œ**: ç¨³å®šçš„äº’è”ç½‘è¿æ¥ (è®¿é—® Google API)
- **API**: Google AI API Key (Gemini è®¿é—®æƒé™)

### éƒ¨ç½²æ¶æ„ (Deployment Architecture)
```
ç”¨æˆ·æµè§ˆå™¨ (User Browser)
       â†“
Streamlit Web æœåŠ¡å™¨ (Streamlit Web Server)
       â†“
Google Gemini API (AI æ¨¡å‹æœåŠ¡)
       â†“
Google æœç´¢ API (å¯é€‰ï¼Œæœç´¢åŠŸèƒ½)
```

### æŠ€æœ¯ç‰¹è‰² (Technical Features)
- **å“åº”å¼è®¾è®¡**: é€‚é…ä¸åŒå±å¹•å°ºå¯¸
- **å®æ—¶æµå¼è¾“å‡º**: ç±»ä¼¼ ChatGPT çš„æ‰“å­—æœºæ•ˆæœ
- **çŠ¶æ€ç®¡ç†**: è‡ªåŠ¨ä¿å­˜ä¼šè¯å†å²
- **é”™è¯¯å¤„ç†**: å®Œå–„çš„å¼‚å¸¸æ•è·å’Œç”¨æˆ·æç¤º
- **å¤šæ¨¡æ€æ”¯æŒ**: æ–‡æœ¬ + å›¾åƒ + è§†é¢‘å¤„ç†
- **å›½é™…åŒ–**: æ”¯æŒä¸­è‹±æ–‡åŒè¯­ç•Œé¢

### æŠ€æœ¯é€‰å‹è¯´æ˜ (Technology Choice Rationale)

#### ä¸ºä»€ä¹ˆé€‰æ‹© Streamlit?
- âœ… **å¿«é€Ÿå¼€å‘**: çº¯ Python è¯­æ³•ï¼Œæ— éœ€å‰ç«¯çŸ¥è¯†
- âœ… **ç»„ä»¶ä¸°å¯Œ**: å†…ç½®èŠå¤©ã€æ–‡ä»¶ä¸Šä¼ ã€ä¾§è¾¹æ ç­‰ç»„ä»¶
- âœ… **éƒ¨ç½²ç®€å•**: ä¸€è¡Œå‘½ä»¤å³å¯å¯åŠ¨ Web åº”ç”¨
- âœ… **äº¤äº’æ€§å¼º**: æ”¯æŒå®æ—¶æ›´æ–°å’ŒçŠ¶æ€ç®¡ç†

#### ä¸ºä»€ä¹ˆé€‰æ‹© Google Gemini?
- âœ… **å¤šæ¨¡æ€èƒ½åŠ›**: åŒæ—¶å¤„ç†æ–‡æœ¬ã€å›¾åƒã€è§†é¢‘
- âœ… **æ¨¡å‹å¤šæ ·**: ä»å¿«é€Ÿå“åº”åˆ°æ·±åº¦æ€è€ƒçš„å¤šç§é€‰æ‹©
- âœ… **API ç¨³å®š**: Google æä¾›çš„ä¼ä¸šçº§ API æœåŠ¡
- âœ… **åŠŸèƒ½å…ˆè¿›**: æ”¯æŒæœ€æ–°çš„ AI æŠ€æœ¯å’ŒåŠŸèƒ½

#### ä¸ºä»€ä¹ˆä½¿ç”¨å¤šä¸ªåº”ç”¨æ–‡ä»¶?
- âœ… **æ¨¡å—åŒ–è®¾è®¡**: æ¯ä¸ªæ–‡ä»¶ä¸“æ³¨ç‰¹å®šåŠŸèƒ½
- âœ… **æ˜“äºç»´æŠ¤**: ç‹¬ç«‹å¼€å‘å’Œæµ‹è¯•ä¸åŒåŠŸèƒ½
- âœ… **ç”¨æˆ·é€‰æ‹©**: æ ¹æ®éœ€æ±‚é€‰æ‹©åˆé€‚çš„ç‰ˆæœ¬
- âœ… **å­¦ä¹ å‹å¥½**: ä»ç®€å•åˆ°å¤æ‚çš„æ¸è¿›å¼å­¦ä¹ 

## åŠŸèƒ½ç‰¹ç‚¹

- ğŸ’¬ æ”¯æŒè‡ªç„¶è¯­è¨€å¯¹è¯
- ğŸ¤– æ”¯æŒå¤šç§æ¨¡å‹é€‰æ‹© (`gemini-2.0-flash`, `gemini-2.5-exp`, `gemini-2.5-flash`)
- ğŸ“ æ”¯æŒæµå¼è¾“å‡ºå›å¤
- ğŸ–¼ï¸ æ”¯æŒå›¾ç‰‡ä¸Šä¼ å’Œåˆ†æ,ç”Ÿæˆ
- ğŸ” æ”¯æŒ Google æœç´¢åŠŸèƒ½ï¼Œå¯¹è¯æ—¶å¯è·å–æœ€æ–°çš„çŸ¥è¯†
- ğŸš€ ç®€å•æ˜“ç”¨çš„ Web ç•Œé¢
- ğŸ’» åŸºäº Streamlit å¿«é€Ÿéƒ¨ç½²

## ä½¿ç”¨å‰å‡†å¤‡

1. è·å– Google Gemini API Key
2. å®‰è£…å¿…è¦çš„ä¾èµ–åŒ…ï¼š
```python
pip install streamlit google-generativeai google-genai pillow
```

## ğŸ“ é¡¹ç›®ç»“æ„ (Project Structure)

```
streamlit-gemini/
â”œâ”€â”€ app.py                          # åŸºç¡€èŠå¤©åº”ç”¨ (æ¨èæ–°æ‰‹ä½¿ç”¨)
â”œâ”€â”€ app2.py                         # ç¾åŒ–ç‰ˆèŠå¤©åº”ç”¨ (å¸¦ Logo)
â”œâ”€â”€ app_computer.py                 # è®¡ç®—æœºä¸“å®¶ç‰ˆæœ¬
â”œâ”€â”€ app_computer_multi.py           # å¤šæ¨¡å‹æ”¯æŒç‰ˆæœ¬
â”œâ”€â”€ app_computer_multi_stream.py    # å¤šæ¨¡å‹æµå¼è¾“å‡ºç‰ˆæœ¬ (åŠŸèƒ½æœ€å…¨)
â”œâ”€â”€ search.py                       # æœç´¢å¢å¼ºç‰ˆæœ¬ (é›†æˆ Google æœç´¢)
â”œâ”€â”€ image.py                        # å¤šåª’ä½“ç”Ÿæˆç‰ˆæœ¬ (å›¾ç‰‡/è§†é¢‘ç”Ÿæˆ)
â”œâ”€â”€ prompts.py                      # æç¤ºè¯æ¨¡æ¿ç®¡ç†
â”œâ”€â”€ requirements.txt                # Python ä¾èµ–åˆ—è¡¨
â”œâ”€â”€ README.md                       # é¡¹ç›®æ–‡æ¡£
â”œâ”€â”€ .gitignore                      # Git å¿½ç•¥æ–‡ä»¶é…ç½®
â””â”€â”€ images/                         # ç•Œé¢æˆªå›¾å’Œæ¼”ç¤ºå›¾ç‰‡
    â”œâ”€â”€ app-display.png
    â”œâ”€â”€ search-display1.png
    â””â”€â”€ ...
```

### æ–‡ä»¶åŠŸèƒ½è¯´æ˜ (File Descriptions)

| æ–‡ä»¶å | ä¸»è¦åŠŸèƒ½ | é€‚ç”¨åœºæ™¯ |
|--------|----------|----------|
| `app.py` | åŸºç¡€å¯¹è¯ + å›¾ç‰‡åˆ†æ | ç®€å•ä½¿ç”¨ï¼Œç•Œé¢ç®€æ´ |
| `app2.py` | åŸºç¡€å¯¹è¯ + ç¾è§‚ç•Œé¢ | æ¼”ç¤ºå±•ç¤ºï¼Œç•Œé¢ç¾è§‚ |
| `app_computer.py` | ä¸“å®¶æ¨¡å¼ + ç¿»è¯‘åŠŸèƒ½ | æŠ€æœ¯é—®ç­”ï¼Œå¤šè¯­è¨€æ”¯æŒ |
| `app_computer_multi_stream.py` | å¤šæ¨¡å‹ + æµå¼è¾“å‡º | é«˜çº§ç”¨æˆ·ï¼ŒåŠŸèƒ½æœ€å…¨ |
| `search.py` | æœç´¢å¢å¼º + å®æ—¶ä¿¡æ¯ | éœ€è¦æœ€æ–°ä¿¡æ¯çš„å¯¹è¯ |
| `image.py` | å›¾ç‰‡ç”Ÿæˆ + è§†é¢‘åˆ›ä½œ | åˆ›æ„å†…å®¹ç”Ÿæˆ |
| `prompts.py` | æç¤ºè¯ç®¡ç† | æ‰€æœ‰åº”ç”¨çš„æç¤ºè¯æ¨¡æ¿ |

## ä½¿ç”¨æ–¹æ³•

1. è®¾ç½®ç¯å¢ƒå˜é‡ï¼š
```bash
export GOOGLE_API_KEY="your-api-key"
```

ä¹Ÿå¯ä»¥åœ¨app.pyä¸­ç›´æ¥ä¿®æ”¹GOOGLE_API_KEYï¼š
```python
# GOOGLE_API_KEY = os.getenv('GOOGLE_API_KEY')
GOOGLE_API_KEY = "your-api-key"
```

2. è¿è¡Œåº”ç”¨ï¼š
```bash
streamlit run app.py

# reset port
streamlit run --server.port 8080 app.py
```

**è¯´æ˜**
> app.py: ç•Œé¢æ›´åŠ æ•´æ´ <br>
> app2.py: é¡µé¢ä¸Šæœ‰ç¾è§‚çš„logo <br>
> ä¸¤è€…åŠŸèƒ½ä¸€è‡´ï¼ŒæŒ‰ä¸ªäººå–œå¥½è¿›è¡Œé€‰æ‹©


3. åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€æ˜¾ç¤ºçš„åœ°å€ï¼ˆé»˜è®¤ä¸º http://localhost:8501 ï¼‰

#### æ•ˆæœå›¾:
image.pyå±•ç¤º (ä½“éªŒåœ°å€ï¼šhttp://34.125.51.214:8086/)
![image.pyå±•ç¤º1](images/image-display.png)
search.pyå±•ç¤º
![search.pyå±•ç¤º1](images/search-display1.png)
![search.pyå±•ç¤º2](images/search-display2.png)
app_computer_multi_stream.pyå±•ç¤º
![æœ€æ–°ç•Œé¢å±•ç¤º](images/app_computer_multi_stream-display.png)
app.pyå±•ç¤º
![app.pyå±•ç¤º](images/app-display.png)
app2.pyå±•ç¤º
![app2.pyå±•ç¤º](images/app2-display.png)

4. ä½“éªŒåœ°å€
http://34.125.51.214:8082/ ï¼ˆå…è´¹ï¼Œæ— å¹¿å‘Šï¼Œæ— éœ€æ³¨å†Œç™»å½•ç­‰ï¼‰

## æ³¨æ„äº‹é¡¹

- è¯·ç¡®ä¿æœ‰ç¨³å®šçš„ç½‘ç»œè¿æ¥
- API Key è¯·å¦¥å–„ä¿ç®¡ï¼Œä¸è¦ä¸Šä¼ åˆ°å…¬å…±ä»“åº“
